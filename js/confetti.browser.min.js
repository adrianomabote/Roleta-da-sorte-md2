/* Confetti.js - Minimal implementation */
var confetti = (function() {
  var canvas, context;
  
  function init() {
    if (canvas) return;
    canvas = document.createElement('canvas');
    canvas.id = 'confetti-canvas';
    canvas.style.position = 'fixed';
    canvas.style.top = '0';
    canvas.style.left = '0';
    canvas.style.zIndex = '9999';
    canvas.style.pointerEvents = 'none';
    document.body.appendChild(canvas);
    context = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    window.addEventListener('resize', function() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });
  }
  
  function createConfetti(options) {
    init();
    var particleCount = options.particleCount || 50;
    var angle = (options.angle || 90) * Math.PI / 180;
    var spread = (options.spread || 45) * Math.PI / 180;
    var origin = options.origin || { x: 0.5, y: 0.5 };
    
    for (var i = 0; i < particleCount; i++) {
      var vel = {
        x: (Math.random() - 0.5) * 8,
        y: Math.random() * -8 - 3
      };
      var particle = {
        x: origin.x * window.innerWidth,
        y: origin.y * window.innerHeight,
        vx: vel.x,
        vy: vel.y,
        life: 1,
        color: ['#FF6B6B', '#FFA500', '#FFD93D', '#6BCB77', '#4D96FF'][Math.floor(Math.random() * 5)]
      };
      animateParticle(particle);
    }
  }
  
  function animateParticle(particle) {
    function update() {
      particle.x += particle.vx;
      particle.y += particle.vy;
      particle.vy += 0.1;
      particle.life -= 0.015;
      
      context.fillStyle = particle.color;
      context.globalAlpha = particle.life;
      context.fillRect(particle.x, particle.y, 5, 5);
      
      if (particle.life > 0) {
        requestAnimationFrame(update);
      }
    }
    update();
  }
  
  return createConfetti;
})();
